@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";

}
<link rel="stylesheet" href="~/css/home.css">


<div>
    <div class="reading-widget">
        <div class="reading-status">
            <h3>What are you reading?</h3>
            <div class="search-box">
                <input type="search" placeholder="Search books">
                <button>🔍</button>
            </div>
        </div>

        @if (Request.Cookies["User"] != null)
        {
            <div class="books-section">
                <h3>My Books</h3>
                <div class="books-grid">
                    @foreach (var book in Model.mybooks)


                    {

                        <div class="book-card">
                            <img src="~/@book.cover_image" alt="Book cover" class="book-cover">

                            <!-- Assuming `CoverImageUrl` exists in your model -->
                            <div class="book-info">
                                <h4 class="book-title">@book.Title</h4>
                                <p class="book-author">@book.Author</p>
                                <a class="book-rating" href="/AddReview?itemid=@book.Id">
                                    ★★★★☆ @Math.Round(@book.avgRate, 2)
                                </a>

                                <!-- Assuming `Rating` exists in your model -->
                            </div>
                        </div>
                    }
                </div>

                @if (Request.Cookies["is_admin"] == "admin")
                {
                    <a class="btn btn-success" href="/AddBook">
                        Add New Book
                    </a>
                }
            </div>
        }

        <!-- Carousel Section -->
        <div class="carousel-section">
            <div class="carousel-container">
                <!-- Quotes Carousel -->
                <div id="quotesCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="quote-card">
                                <p class="quote-text">"It does not do to dwell on dreams and forget to live."</p>
                                <p class="quote-author">- J.K. Rowling, Harry Potter and the Sorcerer's Stone</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="quote-card">
                                <p class="quote-text">"So many books, so little time."</p>
                                <p class="quote-author">- Frank Zappa</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="quote-card">
                                <p class="quote-text">"A room without books is like a body without a soul."</p>
                                <p class="quote-author">- Marcus Tullius Cicero</p>
                            </div>
                        </div>



                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#quotesCarousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#quotesCarousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>

                <!-- Notes Carousel -->
                <div id="notesCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="note-card">
                                <h4>Reading Notes</h4>
                                <p>Started reading "The Midnight Library" - loving the concept of infinite
                                    possibilities!</p>
                                <span class="note-date">January 15, 2024</span>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="note-card">
                                <h4>Book Thoughts</h4>
                                <p>Chapter 3 of "Project Hail Mary" - the science is mind-blowing!</p>
                                <span class="note-date">January 14, 2024</span>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="note-card">
                                <h4>Reading Progress</h4>
                                <p>Finished "Dune" - what an epic journey through Arrakis!</p>
                                <span class="note-date">January 13, 2024</span>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#notesCarousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#notesCarousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>

            @if (Request.Cookies["User"] != null)
            {
                <a class="btn btn-primary" href="/AddNote">
                    Add New Note
                </a>
                <a class="btn btn-primary" href="/AddQuote">
                    Add New Quote
                </a>
            }
        </div>

    </div>


</div>

<aside class="sidebar">

    <div class="books-section">
        <div class="reading-challenge">
            <h3> My Reading Goals</h3>
            <div class="challenge-stats">
                <div class="year">2024</div>
                <div class="stats">
                    <h2>0</h2>
                    <p>books completed</p>
                    <p class="behind">4 books behind schedule</p>
                    <div class="progress-bar">
                        <div class="progress" style="width: 0%"></div>
                    </div>
                    <p class="percentage">0/5 (0%)</p>
                </div>
            </div>
            <h3> My Daily Goals</h3>
            <div class="challenge-stats">
                <div class="year">2024</div>
                <div class="stats">
                    <h2>0</h2>
                    <p>books completed</p>
                    <p class="behind">4 books behind schedule</p>
                    <div class="progress-bar">
                        <div class="progress" style="width: 0%"></div>
                    </div>
                    <p class="percentage">0/5 (0%)</p>
                </div>
            </div>
            <div style="display:flex;flex-direction:row;">
                <button class="view-challenge mx-3">View Challenge</button>
                <a href="/AddGoals" class="btn btn-success">Add More Goals</a>
            </div>
        </div>

    </div>
    @if (Request.Cookies["User"] != null)
    {
        <div class="books-section">
            <h3>My Clubs</h3>
            <div class="books-grid">
                @foreach (var club in Model.myclubs)


                {
                    <div class="book-card">
                        <!-- Assuming `CoverImageUrl` exists in your model -->
                        <div class="book-info">
                            <h4 class="book-title">@club.name</h4>
                            <!-- Assuming `Rating` exists in your model -->
                        </div>
                    </div>
                }
            </div>
            @if (Request.Cookies["is_admin"] == "admin")
            {
                <a class="btn btn-primary" href="/AddClub">
                    Add a New club</a>
            }
        </div>
    }
    @if (Request.Cookies["User"] != null)
    {
        <div class="books-section">
            <h3>Categories</h3>


            <a class="btn btn-primary" href="/AddCategory">Add a New Categroy</a>

        </div>
    }
    <div class="books-section">
        <div class="updates my-5">
            <div class="updates-header">
                <h3>UPDATES</h3>
                <button class="customize">⚙️ Customize</button>
            </div>
            <p class="no-updates">No More Updates</p>
        </div>
    </div>
</aside>

<script src="~/js/homeCounter.js"></script>
<script src="~/js/home.js"></script>




@*                    @for (int i = 0; i < Model.myquotes.Count; i++)
                        {
                            if (i == 0)
                            {
                                <div class="carousel-item active ">
                                    <div class="quote-card">
                                        <p class="quote-text">"@Model.myquotes[i].quote"</p>
                                        <p class="quote-author">- @Model.myquotes[i].author ,@Model.myquotes[i].book</p>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="carousel-item ">
                                    <div class="quote-card">
                                        <p class="quote-text">"@Model.myquotes[i].quote"</p>
                                        <p class="quote-author">- @Model.myquotes[i].author ,@Model.myquotes[i].book</p>
                                    </div>
                                </div>
                            }

                        } *@